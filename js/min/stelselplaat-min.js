jQuery(document).ready(function($){function e(){$(".begrippen-filter h2").siblings().slideUp(),clearTimeout(a),a=null,$(".popup").fadeOut(function(){$(this).remove()}),$(this).parent().animate({opacity:1},"fast"),$(this).parent().siblings().each(function(){$(this).animate({top:$.data(this,"top"),left:$.data(this,"left"),height:$.data(this,"height"),width:$.data(this,"width")},150).css("z-index","auto")}),0===$(".shield").length&&$(this).parents(".stelsel").append('<li class="shield" />'),$(this).parent().each(function(){$.data(this,"top",$(this).css("top")),$.data(this,"left",$(this).css("left")),$.data(this,"height",$(this).css("height")),$.data(this,"width",$(this).css("width"))}),$(this).parent().css("z-index",9).css("overflow","visible").animate({top:10,left:150,height:600,width:600},200,"linear",function(){$(this).append('<div class="popup mod box closed" />'),$(this).find(".popup").hide().fadeIn().prepend('<a class="close" href="#">X</a>'),$("#"+$(this).prop("id").slice(0,-3)+">*").clone().appendTo(".popup");var e=window.location.hash.split("~"),i=e.length>1?e[1]:0;$(this).find(".tabs li").eq(i).find("a").data("time",0).each(t)})}function t(){var e=0;void 0==$(this).data("time")&&(e=250),$(this).removeData("time");var t=$(this).parent().index();$(this).parents("div").find(".tab").eq(t).siblings(".tab").animate({marginLeft:"-600px"},e),$(this).parents("div").find(".tab").eq(t).show().css("margin-left",600).animate({marginLeft:0},e),$(".tabs .active").removeClass("active"),$(this).parent().addClass("active");var i=$(this).parents("div").find(".tab").eq(t);if(i.length){var a=i.prevAll("h2").outerHeight(!0)+i.prevAll("ul.tabs").outerHeight(!0),s=Math.max(600,i.outerHeight(!0)+a);i.parents("div.popup").parent("li").css("height",s),$("div#kolom2").css("min-height",600==s?0:$("ul.stelsel").offset().top+s-$("#page").offset().top)}else $(this).parents("div").find(".tab").parents("div.popup").parent("li").css("height",600)}function i(){if(window.location.hash){var i=$('.stelsel > li > a[href="'+window.location.hash.split("~")[0]+'"]');if($(".popup").length<1)i.each(e);else{var a=window.location.hash.split("~"),s=$(".popup").prev().attr("href").split("~");a[0]==s[0]?(a[1]=a[1]?a[1]:"0",$('.popup .tabs > li > a[href$="'+a.join("~")+'"]').each(t)):i.each(e)}}else $(".close").click()}$(".br").hide();var a,s;$(".stelsel li>a").hover(function(){if(!s){var e=$(this);a&&(clearTimeout(a),a=null),a=setTimeout(function(){$selector=e.parent().prop("id").slice(0,-3),$relaties=stelselplaat.relations[$selector],e.parent().siblings().each(function(){$rel=$(this).prop("id").slice(0,-3),$.inArray($rel,$relaties)===-1&&$("#"+$rel+"_li").stop().animate({opacity:.1})}),e.parent().css("z-index",9);var t=$selector.toLowerCase();$(".relaties img").attr("src",stelselplaat.image_location+t+".png")},250)}}),$(".stelsel li>a").mouseleave(function(){s||(clearTimeout(a),a=null,$(".shield").length<1&&$(this).parent().css("z-index","auto"),$(".relaties img").attr("src",stelselplaat.image_location+"relaties.png"),$(this).parent().siblings().stop().animate({opacity:1},"fast"))}),$(".close").live("click",function(){$(this).parents("li").each(function(){$(this).css("z-index","auto").animate({top:$.data(this,"top"),left:$.data(this,"left"),height:$.data(this,"height"),width:$.data(this,"width")},"fast"),$(".popup, .shield").fadeOut(250,function(){$(this).remove()})})}),$(".shield").live("click",function(){$(".popup .close").click()}),$(".zij a").live("click",function(){var e=$(this).prop("href").split("#");$("#"+e[1]+"_li a").click()}),$(".br").each(function(){$(this).find("h2").eq(0).after('<ul class="tabs" />');var e=$(this).attr("id");$(this).find(".tab h2").each(function(t){$(this).parents(".br").find(".tabs").append('<li><a href="#'+e+"~"+t+'">'+$(this).html()+"</a></li>"),$(this).remove()})}),$(window).on("hashchange",i),i(),$(".stelselplaat").before('<div class="begrippen-filter"><h2><a href="#">Filter op begrippen</a></h2><p>Toon basisregistraties met begrip:</p></div>'),$(".begrippen-filter h2").siblings().hide(),$(".begrippen-filter h2").live("click",function(e){if($(".popup .close").click(),$(".begrippen-filter h2").siblings().slideToggle(),0===$(".begrippen-filter ul").length){$(".begrippen-filter").append("<ul></ul>");for(var t in stelselplaat.begrippen_relations)$(".begrippen-filter ul").append('<li><a href="#">'+t+"</a></li>")}e.preventDefault()}),$(".begrippen-filter ul li a").live("click",function(e){var t=$(this).text(),i=stelselplaat.begrippen_relations[t];if($(".stelsel .object").remove(),$(".stelsel>li").not(".relaties").stop().animate({opacity:.1}),$(this).html()==$(".begrippen-filter .active").html())s=!1,$(".stelsel>li").stop().animate({opacity:1}),$(".begrippen-filter h2 a").text("Filter op begrippen"),$(".begrippen-filter .active").removeClass("active"),$(".relaties img").attr("src",stelselplaat.image_location+"relaties.png");else{s=!0;for(var a in i){var l="#"+$.trim(i[a][0])+"_li";i[a].length>1&&$(l).append('<div class="object">'+i[a][1]+"</div>"),$(l).stop().animate({opacity:1})}var n=t.toLowerCase().replace(/\s/g,"_");$(".relaties img").attr("src",stelselplaat.image_location+n+".png"),$(".begrippen-filter h2 a").html("Filter op: <em>"+$(this).text()+"</em>"),$(".begrippen-filter .active").removeClass("active"),$(this).addClass("active")}e.preventDefault()})});var stelselplaat=stelselplaat||{};stelselplaat.initBegrippenFilter=function(){};